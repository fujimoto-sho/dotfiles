このアプリのリリース前チェックを実施してください。

以下のチェックリストに基づいて、各項目を確認し、結果を報告してください。

## 1. アプリ基本機能
- [ ] バージョンチェック: サーバー側のバージョン情報と比較し、更新を検出できるか
- [ ] 強制アップデート: 必須更新時にスキップ不可のモーダルが表示されるか
- [ ] OTAアップデート: アプリストア経由でない軽微な更新が配信できるか
- [ ] スプラッシュスクリーン: 初期化完了後に正しく非表示になるか
- [ ] エラーハンドリング: エラー種別に応じた適切な処理が行われるか
- [ ] プッシュ通知: トークン登録・受信・タップ時の遷移が動作するか
- [ ] ディープリンク: 外部からのリンクで適切な画面に遷移するか
- [ ] フォアグラウンド復帰: バックグラウンドからの復帰時にデータが更新されるか

## 2. セキュリティ
- [ ] 認証トークン: SecureStore等で安全に保存されているか
- [ ] トークン有効期限: 期限切れ時にリフレッシュまたは再ログインされるか
- [ ] 自動ログアウト: 認証エラー(401)時に自動ログアウトするか
- [ ] API Key管理: ハードコーディングせず環境変数で管理しているか
- [ ] CORS設定: 本番では特定ドメインのみ許可しているか
- [ ] 環境変数: `.env` がgitignoreされているか
- [ ] 機密情報: ログに機密情報が出力されていないか

## 3. データベース
- [ ] RLSポリシー: 全テーブルでRLSが有効か
- [ ] マルチテナント分離: 他テナントのデータにアクセスできないか
- [ ] マイグレーション: 全件が正しい順序で適用されているか
- [ ] 型定義同期: DBスキーマと型定義が一致しているか
- [ ] インデックス: 主要クエリ用のインデックスが存在するか
- [ ] バックアップ: 自動バックアップが有効か

## 4. Edge Functions / API
- [ ] 認証検証: JWTトークンの検証が行われているか
- [ ] エラーレスポンス: 適切なステータスコードとメッセージを返すか
- [ ] タイムアウト: 長時間処理に対するタイムアウト設定があるか
- [ ] レート制限: 過剰リクエストに対する制限があるか

## 5. ビルド・デプロイ
- [ ] TypeScript: 型エラーがないか
- [ ] Lint: Lintエラーがないか
- [ ] ビルド成功: iOS/Android両方のビルドが成功するか
- [ ] バージョン番号: app.json等のバージョンが更新されているか
- [ ] Bundle ID: 正しいBundle ID / Package Nameか
- [ ] 環境切替: 本番用の環境変数・APIエンドポイントか

## 6. ストア申請
- [ ] スクリーンショット: 最新の画面キャプチャか
- [ ] アプリ説明文: 機能説明が最新か
- [ ] プライバシーポリシー: URLが有効でアクセス可能か
- [ ] 利用規約: URLが有効でアクセス可能か
- [ ] 年齢制限: 適切なレーティングか
- [ ] 権限説明: カメラ・通知等のUsage Descriptionが適切か
- [ ] アイコン: 全サイズのアイコンが用意されているか

## 7. 動作確認
- [ ] 新規登録: 初回ユーザー登録が完了するか
- [ ] ログイン/ログアウト: 認証フローが正常か
- [ ] 権限リクエスト: 初回起動時の権限許可フローが適切か
- [ ] オフライン→復帰: 通信切断→復帰後にデータ同期されるか
- [ ] メモリリーク: 長時間使用でメモリが異常増加しないか
- [ ] クラッシュ: 主要フローでクラッシュしないか
- [ ] 複数端末: 同一アカウントで複数端末ログイン時の挙動

## 8. 監視・運用
- [ ] クラッシュレポート: Sentry等が設定されているか
- [ ] エラーログ: サーバーエラーの監視設定があるか
- [ ] Analytics: ユーザー行動の計測設定があるか
- [ ] アラート: 重大エラー時の通知設定があるか

---

各項目について、コードベースを調査し以下の形式で報告してください：
- **実装済み**: 該当コードのファイルパスと概要
- **未実装**: 対応が必要な場合はその旨を明記
- **確認不可**: コードからは確認できない項目（手動テストや外部設定が必要）
